<!doctype html>
<html lang="fr">

	<head>
		<meta charset="utf-8">

		<title>Remotion ‚Äì et si on cr√©ait des vid√©os avec React</title>

		<meta name="description" content="Slides de pr√©sentation donn√©e √† ReactNantes, le 28/04/2022">
		<meta name="author" content="Johan Soulet">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link data-react-helmet="true" rel="shortcut icon" href="https://www.remotion.dev/img/logo-small.png">
		<link rel="stylesheet" href="../../dist/reset.css">
		<link rel="stylesheet" href="../../dist/reveal.css">
		<link rel="stylesheet" href="../../dist/theme/openclassrooms-light.css" id="theme">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" ></link>
    <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script>
		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="../../plugin/highlight/github-dark-dimmed.css">
	</head>

	<body>

		<div class="reveal">
			<div class="slides">
        <!-- HOME -->
				<section>
					<a href="https://www.remotion.dev/">
						<img src="../assets/remotion/remotion_logo.jpg" alt="remotion logo" style="height: 180px; margin: 0 auto 4rem auto; background: transparent;" class="demo-logo">
					</a>
					<h3>Remotion</h3>
					<p style="display: flex; flex-direction: column;gap: 2rem; align-items: center;">
            et si on cr√©ait des vid√©os avec React
					</p>
					<p>
						<small>React Nantes - 28 avril 2022</small>
					</p>
				</section>
        <!-- HOW AM I -->
        <section>
          <div style="display: grid; grid-template-columns: 1fr 2fr;">
            <div style="display: flex; justify-content: center; align-items: center;">
              <img style="width:150px;border-radius: 100%;"  src="../assets/remotion/profilepic.jpg"/>
            </div>
            <div style="display: flex; flex-direction: column;justify-content: center; align-items: center;">
              <h4>Johan Soulet</h4>
              <ul style="list-style: none;">
                <li style="display: flex; align-items: center;"><small>Software engineer chez <a href="https://openclassrooms.com">OpenClassrooms</a></small><img src="../assets/remotion/zozor.png" height="40px"></li>
                <li><small><a style="display: flex; gap: 0.5rem; align-items: center;" href="https://twitter.com/johansoulet"> <i class="fa-brands fa-twitter" style="color: #1DA1F2"></i> @johansoulet</a></small></li>
              <ul>
            </div>
          <div>
        </section>
        <!-- CONTEXT -->
        <section>
          <section>
            <h2>Un peu de contexte...</h2>
            <p>Pourquoi je me suis int√©ress√© √† Remotion?</p>
          </section>
          <section>
						<div>üê£</div>
            <div>Sortie de la v1 d√©but 2021</div>
            <div>Pas mal de bruit dans l'√©cosyst√®me</div>
            <div class="fragment fade-in">
              <br/>
              <div>Seul son <a href="https://jonny.io/" title="Jonny Burger">auteur</a> cr√©e du contenu riche</div>
              <div></div>
              <br/>
              <div>Peut √™tre que ce n'est pas si s√©rieux...<br/><i class="fa-solid fa-arrow-right-long" ></i> DROP IT üöÆ</div>
            </div>
          </section>
          <section>
            <h3>Un retour √©tonnant</h3>
          </section>
					<section>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px">
						<div>
							<ul>
								<li>Partag√© sur le channel #front-end</li>
								<li>Est-il possible d'automatiser une partie de l'√©dition des vid√©os ?</li>
							</ul>
							<div class="fragment fade-in">
								<br/>
								<div>Peut √™tre peut-on lui trouver un int√©r√™t finalement<br/><i class="fa-solid fa-arrow-right-long" ></i>¬†LET'S¬†TRY¬†¬†üëØ‚Äç‚ôÇÔ∏è</div>
							</div>
						</div>
						<div>
							<img src="../assets/remotion/course.png" style="max-width: 100%; max-height: 100%;"/>
						</div>
          </div>
				</section>
        </section>
        <section>
          <section>
            <h2>Proof of concept</h2>
            <p>une vid√©o Tik-Tok inspir√©e de Spotify Wrapped... </p>
          </section>
          <section>
            <iframe width="315" height="560" src="https://www.youtube.com/embed/6dCf9L6TVrE?controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </section>
        </section>
        <!-- UNDER THE HOOD -->
        <section>
          <section>
            <h2>Qu'y a-t-il sous le capeau ?</h2>
						<img src="../assets/remotion/underthehood.jpeg" style="max-height: 400px;">
          </section>
          <section>
            <h3>Inspir√© par les dessin-anim√©s</h3>
            <p><small>Une vid√©o est un ensemble d'image, jou√©es les unes apr√®s les autres</small></p>
            <iframe src="https://giphy.com/embed/SFK0oEtuU9eGRuRrPz" width="480" height="320" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
          </section>
          <section>
            <ol>
              <li><span style="color:var(--color-brand)">#REACT</span> D√©crire l'interface en fonction du temps</li>
              <li><span style="color:var(--color-brand)">#PUPETEER</span> G√©n√©rer les vues et prendre des screenshots</li>
              <li><span style="color:var(--color-brand)">#FFMPEG</span> Aggr√©ger les images et flux audios en une seule vid√©o</li>
            </ol>
          </section>
          <section>
            <h3>Des vues stateless</h3>
            <p>La "frame" est le coeur de la conception</p>
            <br/>
            <ul style="text-align: left;">
              <p><small>Imaginer √† l'avance ce qui se passera √† la frame 1, 2... n</small></p>
              <p><small>Calculer combien de frames <code>&lt;RandomComponent/&gt;</code> doit √™tre affich√©</small></p>
            </ul>
          </section>
          <section>
            <img src="../assets/remotion/gatsby_logo.png" style="height: 150px;" alt="Gatsby"></img>
          </section>
          
        </section>
      <!-- FOUNDATIONS -->
      <section>
        <section>
            <h2>Fondations</h2>
        </section>
        <section>
          <h3><code>&lt;Composition/&gt;</code></h3>
          <p>Le point d'entr√©e de la vid√©o</p>
          <pre><code data-line-numbers>
            <script type="text/template">import { Composition } from 'remotion'
import MyAwesomeVideo from './MyAwesomeVideo'

const FPS = 30;
const WIDTH = 1080;
const HEIGH = 1920;
export function Video() {
  return <Composition
    id="MyAwesomeVideo"
    component={MyAwesomeVideo}
    durationInFrames={42 * FPS}
    fps={FPS}
    width={WIDTH}
    height={HEIGHT}/>}
            </script>
          </code></pre>
        </section>
        <section>
          <h3><code>&lt;Sequence/&gt;</code></h3>
          <p>Une des √©tape de la vid√©o</p>
          <pre><code data-line-numbers>
            <script type="text/template">import { Sequence } from 'remotion'
import { Screen1, Screen2, Screen3 } from './screens'

const MyAwesomeVideo = () => {
	return <>
		<Sequence from={0} durationInFrames={30}>
			<Screen1/>
		</Sequence>
		<Sequence from={30} durationInFrames={90}>
			<Screen2/>
		</Sequence>
		<Sequence from={30} durationInFrames={45}>
			<Screen3/>
		</Sequence>
	</>
  }
            </script>
          </code></pre>
        </section>
        <section>
          <h3>Les composants multimedia</h3>
          <p>Remotion doit attendre le chargement des elements avant de faire un screenshot</p>
          <div class="fragment">
            <ul style="list-style-type: none; margin: 0;">
              <li>üñº <code>&lt;Image src="remotion-logo.jpeg" /&gt;</code></li>
              <li>üìº <code>&lt;Video src="cute-kitten.mp4"/&gt;</code></li>
              <li>üé∂ <code>&lt;Audio src="rock-soundtrack.mp3"/&gt;</code></li>
              <li>üåé <code>&lt;IFrame src="www.lemonde.fr/" /&gt;</code></li>
            </ul>
          </div>
        </section>
        <section>
          <h3>Interface de d√©veloppement</h3>
          <pre><code>yarn start</code></pre>
          <div><small>http://localhost:3001</small></div>
          <img src="../assets/remotion/preview.png" style="margin: 0">
        </section>
      </section>

      <!-- ANIMATIONS -->
			<section>
				<section>
					<h2>Animations</h2>
				</section>
				<section>
					<h3><code>useCurrentFrame()</code></h3>
					<pre><code data-line-numbers>
            <script type="text/template">import { useCurrentFrame } from 'remotion'

const FadingScreen = () => {
	const frame = useCurrentFrame()
	const opacity = frame < 30 ? frame / 30 : 1
	return <div style={{ opacity }}>
		{/* ... */}
	</div>
  }
            </script>
          </code></pre>
					<div style="display: flex; gap: 16px; justify-content: space-evenly; margin-top: 32px;">
						<div style="display: flex; flex-direction: column;align-items: center;justify-content: center; ;">
							<div style="height: 50px; width: 50px; background: var(--color-brand); opacity: 0.2; border-radius: 8px"></div>
							<small>frame = 6</small>
							<small>opacity = 0.2</small>
						</div>
						<div style="display: flex; flex-direction: column;align-items: center;justify-content: center; ;">
							<div style="height: 50px; width: 50px; background: var(--color-brand); opacity: 0.5; border-radius: 8px"></div>
							<small>frame = 15</small>
							<small>opacity = 0.5</small>
						</div>
						<div style="display: flex; flex-direction: column;align-items: center;justify-content: center; ;">
							<div style="height: 50px; width: 50px; background: var(--color-brand); opacity: 1; border-radius: 8px"></div>
							<small>frame = 30</small>
							<small>opacity = 1</small>
						</div>
						<div style="display: flex; flex-direction: column;align-items: center;justify-content: center; ;">
							<div style="height: 50px; width: 50px; background: var(--color-brand); opacity: 1; border-radius: 8px"></div>
							<small>frame = 60</small>
							<small>opacity = 1</small>
						</div>
					</div>
				</section>
				<section>
					<h3><code>interpolate</code></h3>
					<pre><code data-line-numbers="5-9|10">
            <script type="text/template">import { useCurrentFrame, interpolate } from 'remotion'

const CounterScreen = ({ maxValue }) => {
	const currentFrame = useCurrentFrame()
	const counter = interpolate(
		currentFrame,
		[0, 30], // source range
		[0, maxValue] // destination range
	)
	return <div> The value is { counter }</div>
}
            </script>
          </code></pre>
				</section>
				<section>
					<h3><code>interpolateColors</code></h3>
					<p><small>depuis la v2 on peut m√™me interpoler les couleurs CSS</small></p>
						<pre><code data-line-numbers="5-11|12">
							<script type="text/template">import { useCurrentFrame, interpolateColors } from 'remotion'
	
const ColoredScreen = () => {
	const currentFrame = useCurrentFrame()
	const bg = interpolateColors(
		currentFrame,
		[0, 30], // source range
		['#FF0000', '#FFFF00']
		// ['red', 'yellow'],
		// ['rgba(255, 0, 0, 1)', 'rgba(255, 255, 0, 1)']]
	)
	return <div style={{backgroundColor: bg}}> { /* ... */ } </div>
}
							</script>
						</code></pre>
				</section>
				<section>
					<h3>La physique "spring"</h3>
					<small>(üá´üá∑ spring = ressort <s>printemps</s>)</small>
					<div>pour cr√©er des animations plus fluides</div>
					<pre><code data-line-numbers="4-13|14-18|19">
            <script type="text/template">const BouncingBox = () => {
	const currentFrame = useCurrentFrame()
	const videoConfig = useVideoConfig()
	const springDriver = spring({
		frame: currentFrame, 
		fps: videoConfig.fps,
		from: 0, to: 1 // default values
		config: {
			mass: 1, // weight
			damping: 10, // tension
			stiffness: 100, // friction
		}
	})
	const y = interpolate(
		springDriver,
		[0, 1],
		[-20, 0] 
	)
	return <div style={{transform: `translateY(${y})`}} />
}
            </script>
          </code></pre>
					<small style="display: flex; align-items: center; justify-content: center;">
						<img src="../assets/remotion/joshwcomeau.png" style="height: 40px; margin: 0 16px 0 0"/><a href="https://www.joshwcomeau.com/animation/a-friendly-introduction-to-spring-physics/">A Friendly Introduction to Spring Physics</a>, by Josh W. Comeau
					</small>
				</section>
				
			</section>
			<section>
				<h2>Data fetching</h2>
				<div class="fragment">
					<p>üèÉ‚Äç‚ôÇÔ∏è mettre en pause le rendering pendant le chargement des donn√©es<p>
					<p>ü™ù hooks <code>delayRender</code>, <code>continueRender</code></p>
				</div>
				<div class="fragment" style="margin-top: 80px;">
					<ol>
						<li>Appel de <code style="color: var(--color-brand)">delayRender</code> au premier render du composant</li>
						<li>Appels API asynchrone</li>
						<li>Stockage de la donn√©e en local</li>
						<li>Appel de <code style="color: var(--color-brand)">continueRender</code></li>
					</ol>
				</div>
			</section>
			<section>
				<section>
					<h2>Plugins</h2>
					<ul>
						<li>Gifs</li>
						<li>ThreeJS</li>
						<li>Lottie</li>
					</ul>
				</section>
				<section>
						<h3>Lottie</h3>
						<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
							<ul style="list-style-type: none; margin: 0; display: flex; flex-direction: column; gap: 32px; font-size: 2rem;" class="fragment">
								<li>
									1. Cr√©er une animation complexe avec AfterEffect
								</li>
								<li>
									2. L'exporter en JSON
								</li>
								<li>
									3. Int√©grer &lt;Lottier/&gt; de remotion-lottie
								</li>
								<li>
									4. Enjoy! üéâ
								</li>
								<li>
									<em>(alt) T√©l√©charger des JSON sur <a href="https://lottiefiles.com/">Lottiefiles.com</a></em>
								</li>
							</ul>
							<div><img src="../assets/remotion/firework.gif"/></div>
						</div>
						
				</section>
			</section>
			<section>
				<section>
					<h2>Conclusion</h2>
				</section>
				<section>
					<h3>‚ùå Pourquoi ne pas utiliser Remotion ?</h3>
					<ul>
						<li>Une vid√©o unique</li>
						<li>Un motion design complexe</li>
						<li>Effets sp√©ciaux</li>
					<ul>
				</section>
				<section>
					<h3>‚úÖ Pourquoi utiliser Remotion ?</h3>
					<ul>
						<li>G√©n√©rer des vid√©os par lots</li>
						<li>Le contenu provient d'une API</li>
					<ul>
				</section>
			</section>
			<section>
				<h2>Pour aller plus loir</h2>
				<div>
					<div>Composant <a href="https://www.remotion.dev/docs/player"><code>&lt;Player/&gt;</code></a></div>
					<small>Cr√©er des vid√©os √† la vol√©e</small>
				</div>
				<br/>
				<div>
					<div>Quelques inspirations: <a href="https://www.remotion.dev/showcase">remotion.dev/showcase</a></div>
				</div>
			</section>
				

				<section style="text-align: left;">
					<h1>Merci üôå</h1>
					<br/>
					<ul style="list-style: none; margin: 0;">
						<li style="margin-bottom: 32px;"><a target="_blank" href="https://www.remotion.dev/"> <i class="fa-solid fa-play" style="color: deeppink"></i> remotion.dev</a></li>
						<li style="margin-bottom: 32px;"><a target="_blank" href="https://github.com/jsoulet/remotion-poc"> <i class="fa-brands fa-github" style="color: black"></i> github.com/jsoulet/remotion-poc</a></li>
						<li style="margin-bottom: 32px;"><a target="_blank" href="https://johansoulet.fr/blog"><i class="fa-solid fa-seedling" style="color: #1DB954"></i> johansoulet.fr/blog</a></li>
						<li style="margin-bottom: 32px;"><a target="_blank" href="https://twitter.com/johansoulet"><i class="fa-brands fa-twitter" style="color: #1DA1F2"></i> @johansoulet</a></li>
					</ul>
					<br/>
					<br/>
					<p style="font-size: 1rem;">created with <a href="https://revealjs.com/">reveal.js</a></p>
				</section>

			</div>

		</div>

		<script src="../../dist/reveal.js"></script>
		<script src="../../plugin/zoom/zoom.js"></script>
		<script src="../../plugin/notes/notes.js"></script>
		<script src="../../plugin/search/search.js"></script>
		<script src="../../plugin/markdown/markdown.js"></script>
		<script src="../../plugin/highlight/highlight.js"></script>
		<script>

			// Also available as an ES module, see:
			// https://revealjs.com/initialization/
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,
        slideNumber: 'c/t',

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight ]
			});

		</script>

	</body>
</html>
